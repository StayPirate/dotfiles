#!/bin/bash
if [ -z $DOTFILES ]; then
    echo "Aborting: \$DOTFILES is not set."
    exit 1
elif [ ! -d "${DOTFILES}/.git" ]; then
    echo "Aborting: ${DOTFILES} doesn't seems to be a git repository."
    exit 1
elif [ ! -f "${DOTFILES}/.gitmodules" ]; then
    echo "Aborting: ${DOTFILES}/.gitmodules not found."
fi

cd $DOTFILES
git pull --recurse-submodules=yes
git submodule update --init --remote
